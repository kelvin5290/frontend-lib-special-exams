{"version":3,"file":"SubmittedTimedExamInstructions.js","names":["_react","_interopRequireWildcard","require","_reactRedux","_i18n","_jsxRuntime","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","r","l","t","Symbol","iterator","e","n","u","a","f","o","next","done","push","value","length","Array","isArray","_createForOfIteratorHelper","allowArrayLike","it","F","s","_e","normalCompletion","didErr","err","step","_e2","minLen","_arrayLikeToArray","toString","slice","constructor","name","from","test","len","arr2","SubmittedTimedExamInstructions","_useSelector","useSelector","state","specialExams","timeIsOver","exam","progress","content_id","isPass","console","log","section_scores","_iterator","_step","section","_iterator2","subsections","_step2","subsection","block_key","targetBlockKey","_progress$grading_pol","percent_graded","grading_policy","grade_range","pass","_useState","useState","_useState2","timeLeft","setTimeLeft","useEffect","timer","setTimeout","clearTimeout","jsx","className","children","jsxs","Fragment","FormattedMessage","id","defaultMessage","style","width","concat","role","_default","exports"],"sources":["../../../src/instructions/timed_exam/SubmittedTimedExamInstructions.jsx"],"sourcesContent":["import React , { useEffect, useState } from 'react';\nimport { useSelector } from \"react-redux\";\nimport { FormattedMessage } from \"@edx/frontend-platform/i18n\";\n\nconst SubmittedTimedExamInstructions = () => {\n  const { timeIsOver,exam ,progress} = useSelector((state) => state.specialExams);\n  const { content_id } = exam;\n  \n  let isPass = false;\n  console.log(progress);\n  console.log(exam);\n  if (progress?.section_scores){\n    for (const section of progress?.section_scores) {\n      for (const subsection of section.subsections) {\n        if (subsection.block_key === targetBlockKey) {\n          isPass =\n            subsection.percent_graded >\n            (progress?.grading_policy?.grade_range?.pass || 0.7);\n          console.log(\"isPass\", isPass);\n          break;\n        }\n      }\n    }\n  }\n \n  const [timeLeft, setTimeLeft] = useState(10);\n\n  useEffect(() => {\n    if (timeLeft === 0) {\n      // Countdown has reached zero, do something\n      console.log(\"Countdown finished!\");\n      return;\n    }\n\n    const timer = setTimeout(() => {\n      setTimeLeft(timeLeft - 1);\n    }, 1000);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [timeLeft]);\n\n  return (\n    <h3 className=\"h3\" data-testid=\"exam.submittedExamInstructions.title\">\n      {timeLeft > 0 ? (\n        <>\n          <FormattedMessage\n            id=\"exam.submittedExamInstructions.title\"\n            defaultMessage=\"Your final score is calculating, please wait for your result and do not close this page.\"\n          />\n          <div class=\"progress\">\n            <div\n              style={{ width: `${(10 - timeLeft) * 10}%` }}\n              class=\"progress-bar\"\n              role=\"progressbar\"\n              aria-valuenow={(10-timeLeft) *10}\n              aria-valuemin=\"0\"\n              aria-valuemax=\"100\"\n            ></div>\n          </div>\n        </>\n      ) : isPass ? (\n        <FormattedMessage\n          id=\"exam.submittedExamInstructions.pass\"\n          defaultMessage=\"Congratulations! You've passed the exam.\"\n        />\n      ) : (\n        <FormattedMessage\n          id=\"exam.submittedExamInstructions.fail\"\n          defaultMessage=\"Unfortunately, you did not pass the exam. Please note that retaking the exam may be necessary based on your organization policy.\"\n        />\n      )}\n    </h3>\n  );\n};\n\nexport default SubmittedTimedExamInstructions;\n"],"mappings":"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"}